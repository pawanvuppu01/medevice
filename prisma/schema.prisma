generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model DATABASECHANGELOG {
  ID            String   @db.VarChar(255)
  AUTHOR        String   @db.VarChar(255)
  FILENAME      String   @db.VarChar(255)
  DATEEXECUTED  DateTime @db.DateTime(0)
  ORDEREXECUTED Int
  EXECTYPE      String   @db.VarChar(10)
  MD5SUM        String?  @db.VarChar(35)
  DESCRIPTION   String?  @db.VarChar(255)
  COMMENTS      String?  @db.VarChar(255)
  TAG           String?  @db.VarChar(255)
  LIQUIBASE     String?  @db.VarChar(20)
  CONTEXTS      String?  @db.VarChar(255)
  LABELS        String?  @db.VarChar(255)
  DEPLOYMENT_ID String?  @db.VarChar(10)

  @@unique([ID, AUTHOR, FILENAME], map: "idx_databasechangelog_id_author_filename")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_BLOB_TRIGGERS {
  SCHED_NAME    String        @db.VarChar(120)
  TRIGGER_NAME  String        @db.VarChar(200)
  TRIGGER_GROUP String        @db.VarChar(200)
  BLOB_DATA     Bytes?        @db.Blob
  QRTZ_TRIGGERS QRTZ_TRIGGERS @relation(fields: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], references: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], onDelete: NoAction, onUpdate: NoAction, map: "FK_QRTZ_BLOB_TRIGGERS_TRIGGERS")

  @@id([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_CALENDARS {
  SCHED_NAME    String @db.VarChar(120)
  CALENDAR_NAME String @db.VarChar(200)
  CALENDAR      Bytes  @db.Blob

  @@id([SCHED_NAME, CALENDAR_NAME])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_CRON_TRIGGERS {
  SCHED_NAME      String        @db.VarChar(120)
  TRIGGER_NAME    String        @db.VarChar(200)
  TRIGGER_GROUP   String        @db.VarChar(200)
  CRON_EXPRESSION String        @db.VarChar(120)
  TIME_ZONE_ID    String?       @db.VarChar(80)
  QRTZ_TRIGGERS   QRTZ_TRIGGERS @relation(fields: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], references: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], onDelete: NoAction, onUpdate: NoAction, map: "FK_QRTZ_CRON_TRIGGERS_TRIGGERS")

  @@id([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_FIRED_TRIGGERS {
  SCHED_NAME        String   @db.VarChar(120)
  ENTRY_ID          String   @db.VarChar(95)
  TRIGGER_NAME      String   @db.VarChar(200)
  TRIGGER_GROUP     String   @db.VarChar(200)
  INSTANCE_NAME     String   @db.VarChar(200)
  FIRED_TIME        BigInt
  SCHED_TIME        BigInt?
  PRIORITY          Int
  STATE             String   @db.VarChar(16)
  JOB_NAME          String?  @db.VarChar(200)
  JOB_GROUP         String?  @db.VarChar(200)
  IS_NONCONCURRENT  Boolean? @db.Bit(1)
  REQUESTS_RECOVERY Boolean? @db.Bit(1)

  @@id([SCHED_NAME, ENTRY_ID])
  @@index([SCHED_NAME, INSTANCE_NAME, REQUESTS_RECOVERY], map: "IDX_QRTZ_FT_INST_JOB_REQ_RCVRY")
  @@index([SCHED_NAME, JOB_GROUP], map: "IDX_QRTZ_FT_JG")
  @@index([SCHED_NAME, JOB_NAME, JOB_GROUP], map: "IDX_QRTZ_FT_J_G")
  @@index([SCHED_NAME, TRIGGER_GROUP], map: "IDX_QRTZ_FT_TG")
  @@index([SCHED_NAME, INSTANCE_NAME], map: "IDX_QRTZ_FT_TRIG_INST_NAME")
  @@index([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], map: "IDX_QRTZ_FT_T_G")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_JOB_DETAILS {
  SCHED_NAME        String          @db.VarChar(120)
  JOB_NAME          String          @db.VarChar(200)
  JOB_GROUP         String          @db.VarChar(200)
  DESCRIPTION       String?         @db.VarChar(250)
  JOB_CLASS_NAME    String          @db.VarChar(250)
  IS_DURABLE        Boolean         @db.Bit(1)
  IS_NONCONCURRENT  Boolean         @db.Bit(1)
  IS_UPDATE_DATA    Boolean         @db.Bit(1)
  REQUESTS_RECOVERY Boolean         @db.Bit(1)
  JOB_DATA          Bytes?          @db.Blob
  QRTZ_TRIGGERS     QRTZ_TRIGGERS[]

  @@id([SCHED_NAME, JOB_NAME, JOB_GROUP])
  @@index([SCHED_NAME, JOB_GROUP], map: "IDX_QRTZ_J_GRP")
  @@index([SCHED_NAME, REQUESTS_RECOVERY], map: "IDX_QRTZ_J_REQ_RECOVERY")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_LOCKS {
  SCHED_NAME String @db.VarChar(120)
  LOCK_NAME  String @db.VarChar(40)

  @@id([SCHED_NAME, LOCK_NAME])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_PAUSED_TRIGGER_GRPS {
  SCHED_NAME    String @db.VarChar(120)
  TRIGGER_GROUP String @db.VarChar(200)

  @@id([SCHED_NAME, TRIGGER_GROUP])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_SCHEDULER_STATE {
  SCHED_NAME        String @db.VarChar(120)
  INSTANCE_NAME     String @db.VarChar(200)
  LAST_CHECKIN_TIME BigInt
  CHECKIN_INTERVAL  BigInt

  @@id([SCHED_NAME, INSTANCE_NAME])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_SIMPLE_TRIGGERS {
  SCHED_NAME      String        @db.VarChar(120)
  TRIGGER_NAME    String        @db.VarChar(200)
  TRIGGER_GROUP   String        @db.VarChar(200)
  REPEAT_COUNT    BigInt
  REPEAT_INTERVAL BigInt
  TIMES_TRIGGERED BigInt
  QRTZ_TRIGGERS   QRTZ_TRIGGERS @relation(fields: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], references: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], onDelete: NoAction, onUpdate: NoAction, map: "FK_QRTZ_SIMPLE_TRIGGERS_TRIGGERS")

  @@id([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_SIMPROP_TRIGGERS {
  SCHED_NAME    String        @db.VarChar(120)
  TRIGGER_NAME  String        @db.VarChar(200)
  TRIGGER_GROUP String        @db.VarChar(200)
  STR_PROP_1    String?       @db.VarChar(512)
  STR_PROP_2    String?       @db.VarChar(512)
  STR_PROP_3    String?       @db.VarChar(512)
  INT_PROP_1    Int?
  INT_PROP_2    Int?
  LONG_PROP_1   BigInt?
  LONG_PROP_2   BigInt?
  DEC_PROP_1    Decimal?      @db.Decimal(13, 4)
  DEC_PROP_2    Decimal?      @db.Decimal(13, 4)
  BOOL_PROP_1   Boolean?      @db.Bit(1)
  BOOL_PROP_2   Boolean?      @db.Bit(1)
  QRTZ_TRIGGERS QRTZ_TRIGGERS @relation(fields: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], references: [SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP], onDelete: NoAction, onUpdate: NoAction, map: "FK_QRTZ_SIMPROP_TRIGGERS_TRIGGERS")

  @@id([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model QRTZ_TRIGGERS {
  SCHED_NAME            String                 @db.VarChar(120)
  TRIGGER_NAME          String                 @db.VarChar(200)
  TRIGGER_GROUP         String                 @db.VarChar(200)
  JOB_NAME              String                 @db.VarChar(200)
  JOB_GROUP             String                 @db.VarChar(200)
  DESCRIPTION           String?                @db.VarChar(250)
  NEXT_FIRE_TIME        BigInt?
  PREV_FIRE_TIME        BigInt?
  PRIORITY              Int?
  TRIGGER_STATE         String                 @db.VarChar(16)
  TRIGGER_TYPE          String                 @db.VarChar(8)
  START_TIME            BigInt
  END_TIME              BigInt?
  CALENDAR_NAME         String?                @db.VarChar(200)
  MISFIRE_INSTR         Int?                   @db.SmallInt
  JOB_DATA              Bytes?                 @db.Blob
  QRTZ_BLOB_TRIGGERS    QRTZ_BLOB_TRIGGERS?
  QRTZ_CRON_TRIGGERS    QRTZ_CRON_TRIGGERS?
  QRTZ_SIMPLE_TRIGGERS  QRTZ_SIMPLE_TRIGGERS?
  QRTZ_SIMPROP_TRIGGERS QRTZ_SIMPROP_TRIGGERS?
  QRTZ_JOB_DETAILS      QRTZ_JOB_DETAILS       @relation(fields: [SCHED_NAME, JOB_NAME, JOB_GROUP], references: [SCHED_NAME, JOB_NAME, JOB_GROUP], onDelete: NoAction, onUpdate: NoAction, map: "FK_QRTZ_TRIGGERS_JOB_DETAILS")

  @@id([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP])
  @@index([SCHED_NAME, CALENDAR_NAME], map: "IDX_QRTZ_T_C")
  @@index([SCHED_NAME, TRIGGER_GROUP], map: "IDX_QRTZ_T_G")
  @@index([SCHED_NAME, JOB_NAME, JOB_GROUP], map: "IDX_QRTZ_T_J")
  @@index([SCHED_NAME, JOB_GROUP], map: "IDX_QRTZ_T_JG")
  @@index([SCHED_NAME, NEXT_FIRE_TIME], map: "IDX_QRTZ_T_NEXT_FIRE_TIME")
  @@index([SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME], map: "IDX_QRTZ_T_NFT_MISFIRE")
  @@index([SCHED_NAME, TRIGGER_STATE, NEXT_FIRE_TIME], map: "IDX_QRTZ_T_NFT_ST")
  @@index([SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_STATE], map: "IDX_QRTZ_T_NFT_ST_MISFIRE")
  @@index([SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_GROUP, TRIGGER_STATE], map: "IDX_QRTZ_T_NFT_ST_MISFIRE_GRP")
  @@index([SCHED_NAME, TRIGGER_GROUP, TRIGGER_STATE], map: "IDX_QRTZ_T_N_G_STATE")
  @@index([SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, TRIGGER_STATE], map: "IDX_QRTZ_T_N_STATE")
  @@index([SCHED_NAME, TRIGGER_STATE], map: "IDX_QRTZ_T_STATE")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model action {
  id                                            Int                    @id @default(autoincrement())
  created_at                                    DateTime               @default(now()) @db.Timestamp(6)
  updated_at                                    DateTime               @default(now()) @db.Timestamp(6)
  type                                          String                 @db.LongText
  model_id                                      Int
  name                                          String                 @db.VarChar(254)
  description                                   String?                @db.LongText
  parameters                                    String?                @db.LongText
  parameter_mappings                            String?                @db.LongText
  visualization_settings                        String?                @db.LongText
  public_uuid                                   String?                @unique(map: "public_uuid") @db.Char(36)
  made_public_by_id                             Int?
  creator_id                                    Int?
  archived                                      Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  entity_id                                     String?                @unique(map: "entity_id") @db.Char(21)
  core_user_action_creator_idTocore_user        core_user?             @relation("action_creator_idTocore_user", fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_action_creator_id")
  core_user_action_made_public_by_idTocore_user core_user?             @relation("action_made_public_by_idTocore_user", fields: [made_public_by_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_action_made_public_by_id")
  report_card                                   report_card            @relation(fields: [model_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_action_model_id")
  http_action                                   http_action?
  implicit_action                               implicit_action?
  query_action                                  query_action?
  report_dashboardcard                          report_dashboardcard[]

  @@index([made_public_by_id], map: "fk_action_made_public_by_id")
  @@index([model_id], map: "fk_action_model_id")
  @@index([creator_id], map: "idx_action_creator_id")
  @@index([public_uuid], map: "idx_action_public_uuid")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model api_key {
  id                                         Int        @id @default(autoincrement())
  user_id                                    Int?
  key                                        String     @db.VarChar(254)
  key_prefix                                 String     @unique(map: "key_prefix") @db.VarChar(7)
  creator_id                                 Int?
  created_at                                 DateTime   @default(now()) @db.Timestamp(6)
  updated_at                                 DateTime   @default(now()) @db.Timestamp(6)
  name                                       String     @unique(map: "name") @db.VarChar(254)
  updated_by_id                              Int
  scope                                      String?    @db.VarChar(64)
  core_user_api_key_creator_idTocore_user    core_user? @relation("api_key_creator_idTocore_user", fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_api_key_created_by_user_id")
  core_user_api_key_updated_by_idTocore_user core_user  @relation("api_key_updated_by_idTocore_user", fields: [updated_by_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_api_key_updated_by_id_user_id")
  core_user_api_key_user_idTocore_user       core_user? @relation("api_key_user_idTocore_user", fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_api_key_user_id")

  @@index([creator_id], map: "idx_api_key_created_by")
  @@index([updated_by_id], map: "idx_api_key_updated_by_id")
  @@index([user_id], map: "idx_api_key_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model application_permissions_revision {
  id         Int       @id @default(autoincrement())
  before     String    @db.LongText
  after      String    @db.LongText
  user_id    Int
  created_at DateTime  @db.Timestamp(6)
  remark     String?   @db.LongText
  core_user  core_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_general_permissions_revision_user_id")

  @@index([user_id], map: "fk_general_permissions_revision_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model audit_log {
  id            Int       @id @default(autoincrement())
  topic         String    @db.VarChar(32)
  timestamp     DateTime  @db.Timestamp(6)
  end_timestamp DateTime? @db.Timestamp(6)
  user_id       Int?
  model         String?   @db.VarChar(32)
  model_id      Int?
  details       String    @db.LongText
}

model blog_posts {
  id         Int       @id @default(autoincrement())
  title      String?   @db.VarChar(200)
  author_id  Int?
  content    String?   @db.Text
  created_at DateTime? @default(now()) @db.Timestamp(0)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model bookmark_ordering {
  id        Int       @id @default(autoincrement())
  user_id   Int
  type      String    @db.VarChar(255)
  item_id   Int
  ordering  Int
  core_user core_user @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_bookmark_ordering_user_id")

  @@unique([user_id, ordering], map: "unique_bookmark_user_id_ordering")
  @@unique([user_id, type, item_id], map: "unique_bookmark_user_id_type_item_id")
  @@index([user_id], map: "idx_bookmark_ordering_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model cache_config {
  id                    Int       @id @default(autoincrement())
  model                 String    @db.VarChar(32)
  model_id              Int
  created_at            DateTime  @default(now()) @db.Timestamp(6)
  updated_at            DateTime  @default(now()) @db.Timestamp(6)
  strategy              String    @db.LongText
  config                String    @db.LongText
  state                 String?   @db.LongText
  invalidated_at        DateTime? @db.Timestamp(6)
  next_run_at           DateTime? @db.Timestamp(6)
  refresh_automatically Boolean?  @db.Bit(1)

  @@unique([model, model_id], map: "idx_cache_config_unique_model")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model card_bookmark {
  id          Int         @id @default(autoincrement())
  user_id     Int
  card_id     Int
  created_at  DateTime    @default(now()) @db.Timestamp(6)
  report_card report_card @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_bookmark_dashboard_id")
  core_user   core_user   @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_bookmark_user_id")

  @@unique([user_id, card_id], map: "unique_card_bookmark_user_id_card_id")
  @@index([card_id], map: "idx_card_bookmark_card_id")
  @@index([user_id], map: "idx_card_bookmark_user_id")
}

model card_label {
  id          Int         @id @default(autoincrement())
  card_id     Int
  label_id    Int
  report_card report_card @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_label_ref_card_id")
  label       label       @relation(fields: [label_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_label_ref_label_id")

  @@unique([card_id, label_id], map: "unique_card_label_card_id_label_id")
  @@index([card_id], map: "idx_card_label_card_id")
  @@index([label_id], map: "idx_card_label_label_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model channel {
  id                   Int                    @id @default(autoincrement())
  name                 String                 @unique(map: "name") @db.VarChar(254)
  description          String?                @db.LongText
  type                 String                 @db.VarChar(32)
  details              String                 @db.LongText
  active               Boolean                @default(dbgenerated("b'1'")) @db.Bit(1)
  created_at           DateTime               @db.Timestamp(6)
  updated_at           DateTime               @db.Timestamp(6)
  notification_handler notification_handler[]
  pulse_channel        pulse_channel[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model channel_template {
  id                   Int                    @id @default(autoincrement())
  name                 String                 @db.VarChar(64)
  channel_type         String                 @db.VarChar(64)
  details              String?                @db.LongText
  created_at           DateTime               @db.Timestamp(6)
  updated_at           DateTime               @db.Timestamp(6)
  notification_handler notification_handler[]
}

model clients {
  id             Int             @id @default(autoincrement())
  user_id        Int?
  company_name   String          @db.VarChar(150)
  contact_person String?         @db.VarChar(100)
  contact_email  String?         @db.VarChar(120)
  contact_phone  String?         @db.VarChar(50)
  address        String?         @db.Text
  status         clients_status? @default(active)
  created_at     DateTime?       @default(now()) @db.Timestamp(0)
  users          users?          @relation(fields: [user_id], references: [id], onUpdate: NoAction, map: "clients_ibfk_1")

  @@index([user_id], map: "user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model cloud_migration {
  id          Int      @id @default(autoincrement())
  external_id String   @db.LongText
  upload_url  String   @db.LongText
  state       String   @default("init") @db.VarChar(32)
  progress    Int      @default(0)
  created_at  DateTime @db.Timestamp(6)
  updated_at  DateTime @db.Timestamp(6)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model collection {
  id                   Int                    @id @default(autoincrement())
  name                 String?                @db.LongText
  description          String?                @db.LongText
  archived             Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  location             String                 @default("/") @db.VarChar(254)
  personal_owner_id    Int?                   @unique(map: "unique_collection_personal_owner_id")
  slug                 String?                @db.VarChar(510)
  namespace            String?                @db.VarChar(254)
  authority_level      String?                @db.VarChar(255)
  entity_id            String?                @unique(map: "entity_id") @db.Char(21)
  created_at           DateTime               @default(now()) @db.Timestamp(6)
  type                 String?                @db.VarChar(256)
  is_sample            Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  archive_operation_id String?                @db.Char(36)
  archived_directly    Boolean?               @db.Bit(1)
  core_user            core_user?             @relation(fields: [personal_owner_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_collection_personal_owner_id")
  collection_bookmark  collection_bookmark[]
  native_query_snippet native_query_snippet[]
  permissions          permissions[]
  pulse                pulse[]
  report_card          report_card[]
  report_dashboard     report_dashboard[]
  timeline             timeline[]

  @@index([location], map: "idx_collection_location")
  @@index([personal_owner_id], map: "idx_collection_personal_owner_id")
  @@index([type], map: "idx_collection_type")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model collection_bookmark {
  id            Int        @id @default(autoincrement())
  user_id       Int
  collection_id Int
  created_at    DateTime   @default(now()) @db.Timestamp(6)
  collection    collection @relation(fields: [collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_collection_bookmark_collection_id")
  core_user     core_user  @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_collection_bookmark_user_id")

  @@unique([user_id, collection_id], map: "unique_collection_bookmark_user_id_collection_id")
  @@index([collection_id], map: "idx_collection_bookmark_collection_id")
  @@index([user_id], map: "idx_collection_bookmark_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model collection_permission_graph_revision {
  id         Int       @id @default(autoincrement())
  before     String?   @db.LongText
  after      String?   @db.LongText
  user_id    Int
  created_at DateTime  @db.Timestamp(6)
  remark     String?   @db.LongText
  core_user  core_user @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_collection_revision_user_id")

  @@index([user_id], map: "fk_collection_revision_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model connection_impersonations {
  id                Int               @id @default(autoincrement())
  db_id             Int
  group_id          Int
  attribute         String?           @db.LongText
  metabase_database metabase_database @relation(fields: [db_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_conn_impersonation_db_id")
  permissions_group permissions_group @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_conn_impersonation_group_id")

  @@unique([group_id, db_id], map: "conn_impersonation_unique_group_id_db_id")
  @@index([db_id], map: "idx_conn_impersonations_db_id")
  @@index([group_id], map: "idx_conn_impersonations_group_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model content_translation {
  id     Int    @id @default(autoincrement())
  locale String @db.VarChar(5)
  msgid  String @db.LongText
  msgstr String @db.LongText
}

model core_session {
  id              String          @id @db.VarChar(254)
  user_id         Int
  created_at      DateTime        @db.Timestamp(6)
  anti_csrf_token String?         @db.LongText
  key_hashed      String          @db.VarChar(254)
  core_user       core_user       @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_session_ref_user_id")
  login_history   login_history[]

  @@index([user_id], map: "fk_session_ref_user_id")
  @@index([key_hashed], map: "idx_core_session_key_hashed")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model core_user {
  id                                                             Int                                    @id @default(autoincrement())
  email                                                          String                                 @unique(map: "email") @db.VarChar(254)
  first_name                                                     String?                                @db.VarChar(254)
  last_name                                                      String?                                @db.VarChar(254)
  password                                                       String?                                @db.VarChar(254)
  password_salt                                                  String?                                @db.VarChar(254)
  date_joined                                                    DateTime                               @db.Timestamp(6)
  last_login                                                     DateTime?                              @db.Timestamp(6)
  is_superuser                                                   Boolean                                @default(dbgenerated("b'0'")) @db.Bit(1)
  is_active                                                      Boolean                                @default(dbgenerated("b'1'")) @db.Bit(1)
  reset_token                                                    String?                                @db.VarChar(254)
  reset_triggered                                                BigInt?
  is_qbnewb                                                      Boolean                                @default(dbgenerated("b'1'")) @db.Bit(1)
  login_attributes                                               String?                                @db.LongText
  updated_at                                                     DateTime?                              @db.Timestamp(6)
  sso_source                                                     String?                                @db.VarChar(254)
  locale                                                         String?                                @db.VarChar(5)
  is_datasetnewb                                                 Boolean                                @default(dbgenerated("b'1'")) @db.Bit(1)
  settings                                                       String?                                @db.LongText
  type                                                           String                                 @default("personal") @db.VarChar(64)
  entity_id                                                      String?                                @unique(map: "entity_id") @db.Char(21)
  deactivated_at                                                 DateTime?                              @db.Timestamp(6)
  tenant_id                                                      Int?
  jwt_attributes                                                 String?                                @db.LongText
  action_action_creator_idTocore_user                            action[]                               @relation("action_creator_idTocore_user")
  action_action_made_public_by_idTocore_user                     action[]                               @relation("action_made_public_by_idTocore_user")
  api_key_api_key_creator_idTocore_user                          api_key[]                              @relation("api_key_creator_idTocore_user")
  api_key_api_key_updated_by_idTocore_user                       api_key[]                              @relation("api_key_updated_by_idTocore_user")
  api_key_api_key_user_idTocore_user                             api_key[]                              @relation("api_key_user_idTocore_user")
  application_permissions_revision                               application_permissions_revision[]
  bookmark_ordering                                              bookmark_ordering[]
  card_bookmark                                                  card_bookmark[]
  collection                                                     collection?
  collection_bookmark                                            collection_bookmark[]
  collection_permission_graph_revision                           collection_permission_graph_revision[]
  core_session                                                   core_session[]
  dashboard_bookmark                                             dashboard_bookmark[]
  dashboard_favorite                                             dashboard_favorite[]
  login_history                                                  login_history[]
  metabase_database                                              metabase_database[]
  metabot_conversation                                           metabot_conversation[]
  metric                                                         metric[]
  model_index                                                    model_index[]
  native_query_snippet                                           native_query_snippet[]
  notification                                                   notification[]
  notification_recipient                                         notification_recipient[]
  permissions_group_membership                                   permissions_group_membership[]
  permissions_revision                                           permissions_revision[]
  persisted_info                                                 persisted_info[]
  pulse                                                          pulse[]
  pulse_channel_recipient                                        pulse_channel_recipient[]
  recent_views                                                   recent_views[]
  report_card_report_card_made_public_by_idTocore_user           report_card[]                          @relation("report_card_made_public_by_idTocore_user")
  report_card_report_card_creator_idTocore_user                  report_card[]                          @relation("report_card_creator_idTocore_user")
  report_cardfavorite                                            report_cardfavorite[]
  report_dashboard_report_dashboard_made_public_by_idTocore_user report_dashboard[]                     @relation("report_dashboard_made_public_by_idTocore_user")
  report_dashboard_report_dashboard_creator_idTocore_user        report_dashboard[]                     @relation("report_dashboard_creator_idTocore_user")
  revision                                                       revision[]
  secret                                                         secret[]
  segment                                                        segment[]
  timeline                                                       timeline[]
  timeline_event                                                 timeline_event[]
  user_key_value                                                 user_key_value[]
  user_parameter_value                                           user_parameter_value[]
  view_log                                                       view_log[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model dashboard_bookmark {
  id               Int              @id @default(autoincrement())
  user_id          Int
  dashboard_id     Int
  created_at       DateTime         @default(now()) @db.Timestamp(6)
  report_dashboard report_dashboard @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_bookmark_dashboard_id")
  core_user        core_user        @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_bookmark_user_id")

  @@unique([user_id, dashboard_id], map: "unique_dashboard_bookmark_user_id_dashboard_id")
  @@index([dashboard_id], map: "idx_dashboard_bookmark_dashboard_id")
  @@index([user_id], map: "idx_dashboard_bookmark_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model dashboard_favorite {
  id               Int              @id @default(autoincrement())
  user_id          Int
  dashboard_id     Int
  report_dashboard report_dashboard @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_favorite_dashboard_id")
  core_user        core_user        @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_favorite_user_id")

  @@unique([user_id, dashboard_id], map: "unique_dashboard_favorite_user_id_dashboard_id")
  @@index([dashboard_id], map: "idx_dashboard_favorite_dashboard_id")
  @@index([user_id], map: "idx_dashboard_favorite_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model dashboard_tab {
  id                   Int                    @id @default(autoincrement())
  dashboard_id         Int
  name                 String                 @db.LongText
  position             Int
  entity_id            String?                @unique(map: "entity_id") @db.Char(21)
  created_at           DateTime               @default(now()) @db.Timestamp(6)
  updated_at           DateTime               @default(now()) @db.Timestamp(6)
  report_dashboard     report_dashboard       @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_tab_ref_dashboard_id")
  report_dashboardcard report_dashboardcard[]

  @@index([dashboard_id], map: "fk_dashboard_tab_ref_dashboard_id")
}

model dashboardcard_series {
  id                   Int                  @id @default(autoincrement())
  dashboardcard_id     Int
  card_id              Int
  position             Int
  report_card          report_card          @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboardcard_series_ref_card_id")
  report_dashboardcard report_dashboardcard @relation(fields: [dashboardcard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboardcard_series_ref_dashboardcard_id")

  @@index([card_id], map: "idx_dashboardcard_series_card_id")
  @@index([dashboardcard_id], map: "idx_dashboardcard_series_dashboardcard_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model data_permissions {
  id                Int               @id @default(autoincrement())
  group_id          Int
  perm_type         String            @db.VarChar(64)
  db_id             Int
  schema_name       String?           @db.VarChar(254)
  table_id          Int?
  perm_value        String            @db.VarChar(64)
  metabase_database metabase_database @relation(fields: [db_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_data_permissions_ref_db_id")
  permissions_group permissions_group @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_data_permissions_ref_permissions_group")
  metabase_table    metabase_table?   @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_data_permissions_ref_table_id")

  @@index([db_id], map: "idx_data_permissions_db_id")
  @@index([group_id], map: "idx_data_permissions_group_id")
  @@index([group_id, db_id, perm_value], map: "idx_data_permissions_group_id_db_id_perm_value")
  @@index([group_id, db_id, table_id, perm_value], map: "idx_data_permissions_group_id_db_id_table_id_perm_value")
  @@index([table_id], map: "idx_data_permissions_table_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model db_router {
  id                Int               @id @default(autoincrement())
  database_id       Int               @unique(map: "database_id")
  user_attribute    String            @db.VarChar(254)
  metabase_database metabase_database @relation(fields: [database_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_db_router_database_id")
}

model dependency {
  id                 Int      @id @default(autoincrement())
  model              String   @db.VarChar(32)
  model_id           Int
  dependent_on_model String   @db.VarChar(32)
  dependent_on_id    Int
  created_at         DateTime @db.Timestamp(6)

  @@index([dependent_on_id], map: "idx_dependency_dependent_on_id")
  @@index([dependent_on_model], map: "idx_dependency_dependent_on_model")
  @@index([model], map: "idx_dependency_model")
  @@index([model_id], map: "idx_dependency_model_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model dimension {
  id                                                               Int             @id @default(autoincrement())
  field_id                                                         Int             @unique(map: "unique_dimension_field_id")
  name                                                             String          @db.VarChar(254)
  type                                                             String          @db.VarChar(254)
  human_readable_field_id                                          Int?
  created_at                                                       DateTime        @db.Timestamp(6)
  updated_at                                                       DateTime        @db.Timestamp(6)
  entity_id                                                        String?         @unique(map: "entity_id") @db.Char(21)
  metabase_field_dimension_human_readable_field_idTometabase_field metabase_field? @relation("dimension_human_readable_field_idTometabase_field", fields: [human_readable_field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dimension_displayfk_ref_field_id")
  metabase_field_dimension_field_idTometabase_field                metabase_field  @relation("dimension_field_idTometabase_field", fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dimension_ref_field_id")

  @@index([human_readable_field_id], map: "fk_dimension_displayfk_ref_field_id")
  @@index([field_id], map: "idx_dimension_field_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model field_usage {
  id                         Int             @id @default(autoincrement())
  field_id                   Int
  query_execution_id         Int
  used_in                    String          @db.VarChar(25)
  filter_op                  String?         @db.VarChar(25)
  aggregation_function       String?         @db.VarChar(25)
  breakout_temporal_unit     String?         @db.VarChar(25)
  breakout_binning_strategy  String?         @db.VarChar(25)
  breakout_binning_num_bins  Int?
  breakout_binning_bin_width Int?
  created_at                 DateTime        @default(now()) @db.Timestamp(6)
  metabase_field             metabase_field  @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_field_usage_field_id_metabase_field_id")
  query_execution            query_execution @relation(fields: [query_execution_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_field_usage_query_execution_id")

  @@index([field_id], map: "idx_field_usage_field_id")
  @@index([query_execution_id], map: "idx_field_usage_query_execution_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model http_action {
  action_id       Int     @id
  template        String  @db.LongText
  response_handle String? @db.LongText
  error_handle    String? @db.LongText
  action          action  @relation(fields: [action_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_http_action_ref_action_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model implicit_action {
  action_id Int    @id
  kind      String @db.LongText
  action    action @relation(fields: [action_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_implicit_action_action_id")
}

model inquiries {
  id           Int       @id @default(autoincrement())
  full_name    String?   @db.VarChar(100)
  email        String?   @db.VarChar(150)
  phone        String?   @db.VarChar(20)
  company      String?   @db.VarChar(100)
  subject      String?   @db.VarChar(255)
  message      String?   @db.Text
  service_type String?   @db.VarChar(100)
  created_at   DateTime? @default(now()) @db.Timestamp(0)
}

model label {
  id         Int          @id @default(autoincrement())
  name       String       @db.VarChar(254)
  slug       String       @unique(map: "slug") @db.VarChar(254)
  icon       String?      @db.VarChar(128)
  card_label card_label[]

  @@index([slug], map: "idx_label_slug")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model login_history {
  id                 Int           @id @default(autoincrement())
  timestamp          DateTime      @default(now()) @db.Timestamp(6)
  user_id            Int
  session_id         String?       @db.VarChar(254)
  device_id          String        @db.Char(36)
  device_description String?       @db.LongText
  ip_address         String?       @db.LongText
  core_session       core_session? @relation(fields: [session_id], references: [id], onUpdate: NoAction, map: "fk_login_history_session_id")
  core_user          core_user     @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_login_history_user_id")

  @@index([session_id], map: "idx_session_id")
  @@index([timestamp], map: "idx_timestamp")
  @@index([user_id], map: "idx_user_id")
  @@index([user_id, device_id], map: "idx_user_id_device_id")
  @@index([user_id, timestamp], map: "idx_user_id_timestamp")
}

model logs {
  id         Int       @id @default(autoincrement())
  user_id    Int?
  action     String?   @db.VarChar(255)
  details    String?   @db.Text
  created_at DateTime? @default(now()) @db.Timestamp(0)
  users      users?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "logs_ibfk_1")

  @@index([user_id], map: "user_id")
}

model messages {
  id                                Int       @id @default(autoincrement())
  sender_id                         Int?
  receiver_id                       Int?
  subject                           String?   @db.VarChar(255)
  body                              String?   @db.Text
  is_read                           Boolean?  @default(false)
  sent_at                           DateTime? @default(now()) @db.Timestamp(0)
  users_messages_sender_idTousers   users?    @relation("messages_sender_idTousers", fields: [sender_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "messages_ibfk_1")
  users_messages_receiver_idTousers users?    @relation("messages_receiver_idTousers", fields: [receiver_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "messages_ibfk_2")

  @@index([receiver_id], map: "receiver_id")
  @@index([sender_id], map: "sender_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_cluster_lock {
  lock_name String @id @db.VarChar(254)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_database {
  id                          Int                         @id @default(autoincrement())
  created_at                  DateTime                    @default(now()) @db.Timestamp(6)
  updated_at                  DateTime                    @default(now()) @db.Timestamp(6)
  name                        String                      @db.VarChar(254)
  description                 String?                     @db.LongText
  details                     String                      @db.LongText
  engine                      String                      @db.VarChar(254)
  is_sample                   Boolean                     @default(dbgenerated("b'0'")) @db.Bit(1)
  is_full_sync                Boolean                     @default(dbgenerated("b'1'")) @db.Bit(1)
  points_of_interest          String?                     @db.LongText
  caveats                     String?                     @db.LongText
  metadata_sync_schedule      String                      @default("0 50 * * * ? *") @db.VarChar(254)
  cache_field_values_schedule String?                     @db.VarChar(254)
  timezone                    String?                     @db.VarChar(254)
  is_on_demand                Boolean                     @default(dbgenerated("b'0'")) @db.Bit(1)
  auto_run_queries            Boolean                     @default(dbgenerated("b'1'")) @db.Bit(1)
  refingerprint               Boolean?                    @db.Bit(1)
  cache_ttl                   Int?
  initial_sync_status         String                      @default("complete") @db.VarChar(32)
  creator_id                  Int?
  settings                    String?                     @db.LongText
  dbms_version                String?                     @db.LongText
  is_audit                    Boolean                     @default(dbgenerated("b'0'")) @db.Bit(1)
  uploads_enabled             Boolean                     @default(dbgenerated("b'0'")) @db.Bit(1)
  uploads_schema_name         String?                     @db.LongText
  uploads_table_prefix        String?                     @db.LongText
  is_attached_dwh             Boolean                     @default(dbgenerated("b'0'")) @db.Bit(1)
  router_database_id          Int?
  connection_impersonations   connection_impersonations[]
  data_permissions            data_permissions[]
  db_router                   db_router?
  core_user                   core_user?                  @relation(fields: [creator_id], references: [id], onUpdate: NoAction, map: "fk_database_creator_id")
  metabase_database           metabase_database?          @relation("metabase_databaseTometabase_database", fields: [router_database_id], references: [id], onDelete: Restrict, onUpdate: NoAction, map: "fk_metabase_database_metabase_database_id")
  other_metabase_database     metabase_database[]         @relation("metabase_databaseTometabase_database")
  metabase_table              metabase_table[]
  persisted_info              persisted_info[]
  query_action                query_action[]
  report_card                 report_card[]

  @@unique([router_database_id, name], map: "idx_unique_metabase_database_router_database_id_name")
  @@index([creator_id], map: "fk_database_creator_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_field {
  id                                                          Int                           @id @default(autoincrement())
  created_at                                                  DateTime                      @db.Timestamp(6)
  updated_at                                                  DateTime                      @db.Timestamp(6)
  name                                                        String?                       @db.VarChar(254)
  base_type                                                   String                        @db.VarChar(255)
  semantic_type                                               String?                       @db.VarChar(255)
  active                                                      Boolean                       @default(dbgenerated("b'1'")) @db.Bit(1)
  description                                                 String?                       @db.LongText
  preview_display                                             Boolean                       @default(dbgenerated("b'1'")) @db.Bit(1)
  position                                                    Int                           @default(0)
  table_id                                                    Int
  parent_id                                                   Int?
  display_name                                                String?                       @db.VarChar(254)
  visibility_type                                             String                        @default("normal") @db.VarChar(32)
  fk_target_field_id                                          Int?
  last_analyzed                                               DateTime?                     @db.Timestamp(6)
  points_of_interest                                          String?                       @db.LongText
  caveats                                                     String?                       @db.LongText
  fingerprint                                                 String?                       @db.LongText
  fingerprint_version                                         Int                           @default(0)
  database_type                                               String?                       @db.LongText
  has_field_values                                            String?                       @db.LongText
  settings                                                    String?                       @db.LongText
  database_position                                           Int                           @default(0)
  custom_position                                             Int                           @default(0)
  effective_type                                              String?                       @db.VarChar(255)
  coercion_strategy                                           String?                       @db.VarChar(255)
  nfc_path                                                    String?                       @db.VarChar(254)
  database_required                                           Boolean                       @default(dbgenerated("b'0'")) @db.Bit(1)
  json_unfolding                                              Boolean                       @default(dbgenerated("b'0'")) @db.Bit(1)
  database_is_auto_increment                                  Boolean                       @default(dbgenerated("b'0'")) @db.Bit(1)
  database_indexed                                            Boolean?                      @db.Bit(1)
  database_partitioned                                        Boolean?                      @db.Bit(1)
  is_defective_duplicate                                      Boolean                       @default(dbgenerated("b'0'")) @db.Bit(1)
  unique_field_helper                                         Int?
  dimension_dimension_human_readable_field_idTometabase_field dimension[]                   @relation("dimension_human_readable_field_idTometabase_field")
  dimension_dimension_field_idTometabase_field                dimension?                    @relation("dimension_field_idTometabase_field")
  field_usage                                                 field_usage[]
  metabase_field                                              metabase_field?               @relation("metabase_fieldTometabase_field", fields: [parent_id], references: [id], onDelete: Restrict, onUpdate: NoAction, map: "fk_field_parent_ref_field_id")
  other_metabase_field                                        metabase_field[]              @relation("metabase_fieldTometabase_field")
  metabase_table                                              metabase_table                @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_field_ref_table_id")
  metabase_field_user_settings                                metabase_field_user_settings?
  metabase_fieldvalues                                        metabase_fieldvalues[]
  metric_important_field                                      metric_important_field[]
  query_field                                                 query_field[]

  @@unique([name, table_id, unique_field_helper], map: "idx_unique_field")
  @@index([parent_id], map: "idx_field_parent_id")
  @@index([table_id], map: "idx_field_table_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_field_user_settings {
  field_id           Int            @id
  created_at         DateTime       @default(now()) @db.Timestamp(6)
  updated_at         DateTime       @default(now()) @db.Timestamp(6)
  semantic_type      String?        @db.VarChar(254)
  description        String?        @db.LongText
  display_name       String?        @db.VarChar(254)
  visibility_type    String?        @db.VarChar(32)
  fk_target_field_id Int?
  has_field_values   String?        @db.LongText
  effective_type     String?        @db.VarChar(255)
  coercion_strategy  String?        @db.VarChar(255)
  caveats            String?        @db.LongText
  points_of_interest String?        @db.LongText
  nfc_path           String?        @db.VarChar(254)
  json_unfolding     Boolean?       @db.Bit(1)
  settings           String?        @db.LongText
  metabase_field     metabase_field @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_field_user_setting_field_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_fieldvalues {
  id                    Int            @id @default(autoincrement())
  created_at            DateTime       @db.Timestamp(6)
  updated_at            DateTime?      @db.Timestamp(6)
  values                String?        @db.LongText
  human_readable_values String?        @db.LongText
  field_id              Int
  has_more_values       Boolean?       @default(dbgenerated("b'0'")) @db.Bit(1)
  type                  String         @default("full") @db.VarChar(32)
  hash_key              String?        @db.LongText
  last_used_at          DateTime       @default(now()) @db.Timestamp(6)
  metabase_field        metabase_field @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_fieldvalues_ref_field_id")

  @@index([field_id], map: "idx_fieldvalues_field_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabase_table {
  id                      Int                @id @default(autoincrement())
  created_at              DateTime           @db.Timestamp(6)
  updated_at              DateTime           @db.Timestamp(6)
  name                    String?            @db.VarChar(254)
  description             String?            @db.LongText
  entity_type             String?            @db.VarChar(254)
  active                  Boolean            @db.Bit(1)
  db_id                   Int
  display_name            String?            @db.VarChar(256)
  visibility_type         String?            @db.VarChar(254)
  schema                  String?            @db.VarChar(254)
  points_of_interest      String?            @db.LongText
  caveats                 String?            @db.LongText
  show_in_getting_started Boolean            @default(dbgenerated("b'0'")) @db.Bit(1)
  field_order             String             @default("database") @db.VarChar(254)
  initial_sync_status     String             @default("complete") @db.VarChar(32)
  is_upload               Boolean            @default(dbgenerated("b'0'")) @db.Bit(1)
  database_require_filter Boolean?           @db.Bit(1)
  estimated_row_count     BigInt?
  view_count              Int                @default(0)
  is_defective_duplicate  Boolean            @default(dbgenerated("b'0'")) @db.Bit(1)
  unique_table_helper     String?            @db.VarChar(254)
  deactivated_at          DateTime?          @db.Timestamp(6)
  archived_at             DateTime?          @db.Timestamp(6)
  data_permissions        data_permissions[]
  metabase_field          metabase_field[]
  metabase_database       metabase_database  @relation(fields: [db_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_table_ref_database_id")
  metric                  metric[]
  query_table             query_table[]
  report_card             report_card[]
  sandboxes               sandboxes[]
  segment                 segment[]
  table_privileges        table_privileges[] @ignore

  @@unique([db_id, schema, name], map: "idx_uniq_table_db_id_schema_name")
  @@unique([db_id, name, unique_table_helper], map: "idx_unique_table")
  @@index([db_id, schema], map: "idx_metabase_table_db_id_schema")
  @@index([show_in_getting_started], map: "idx_metabase_table_show_in_getting_started")
  @@index([db_id], map: "idx_table_db_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabot {
  id                   Int              @id @default(autoincrement())
  name                 String           @db.VarChar(254)
  description          String?          @db.LongText
  entity_id            String?          @unique(map: "entity_id") @db.Char(21)
  created_at           DateTime         @default(now()) @db.Timestamp(6)
  updated_at           DateTime         @default(now()) @db.Timestamp(6)
  use_verified_content Boolean?         @default(dbgenerated("b'0'")) @db.Bit(1)
  collection_id        Int?
  metabot_prompt       metabot_prompt[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabot_conversation {
  id              String            @id @db.VarChar(36)
  created_at      DateTime          @default(now()) @db.Timestamp(6)
  user_id         Int
  summary         String?           @db.LongText
  state           String?           @db.LongText
  core_user       core_user         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_metabot_conversation_user_id")
  metabot_message metabot_message[]

  @@index([user_id], map: "idx_metabot_conversation_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabot_message {
  id                   Int                  @id @default(autoincrement())
  created_at           DateTime             @default(now()) @db.Timestamp(6)
  profile_id           String               @db.LongText
  role                 String               @db.VarChar(20)
  data                 String               @db.LongText
  usage                String?              @db.LongText
  total_tokens         Int
  conversation_id      String               @db.VarChar(36)
  metabot_conversation metabot_conversation @relation(fields: [conversation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_metabot_message_conversation_id")

  @@index([conversation_id], map: "idx_metabot_message_conversation_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metabot_prompt {
  id          Int         @id @default(autoincrement())
  model       String      @db.VarChar(32)
  card_id     Int
  entity_id   String?     @unique(map: "entity_id") @db.Char(21)
  prompt      String      @db.LongText
  created_at  DateTime    @default(now()) @db.Timestamp(6)
  updated_at  DateTime    @default(now()) @db.Timestamp(6)
  metabot_id  Int
  report_card report_card @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metabot_prompt_card_id")
  metabot     metabot     @relation(fields: [metabot_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metabot_prompt_metabot_id")

  @@index([card_id], map: "idx_metabot_prompt_card_id")
  @@index([metabot_id], map: "idx_metabot_prompt_metabot_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model metric {
  id                      Int                      @id @default(autoincrement())
  table_id                Int
  creator_id              Int
  name                    String                   @db.VarChar(254)
  description             String?                  @db.LongText
  archived                Boolean?                 @default(dbgenerated("b'0'")) @db.Bit(1)
  definition              String?                  @db.LongText
  created_at              DateTime                 @db.Timestamp(6)
  updated_at              DateTime                 @db.Timestamp(6)
  points_of_interest      String?                  @db.LongText
  caveats                 String?                  @db.LongText
  how_is_this_calculated  String?                  @db.LongText
  show_in_getting_started Boolean                  @default(dbgenerated("b'0'")) @db.Bit(1)
  entity_id               String?                  @unique(map: "entity_id") @db.Char(21)
  core_user               core_user                @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metric_ref_creator_id")
  metabase_table          metabase_table           @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metric_ref_table_id")
  metric_important_field  metric_important_field[]

  @@index([creator_id], map: "idx_metric_creator_id")
  @@index([show_in_getting_started], map: "idx_metric_show_in_getting_started")
  @@index([table_id], map: "idx_metric_table_id")
}

model metric_important_field {
  id             Int            @id @default(autoincrement())
  metric_id      Int
  field_id       Int
  metabase_field metabase_field @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metric_important_field_metabase_field_id")
  metric         metric         @relation(fields: [metric_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_metric_important_field_metric_id")

  @@unique([metric_id, field_id], map: "unique_metric_important_field_metric_id_field_id")
  @@index([field_id], map: "idx_metric_important_field_field_id")
  @@index([metric_id], map: "idx_metric_important_field_metric_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model model_index {
  id                Int                 @id @default(autoincrement())
  model_id          Int?
  pk_ref            String              @db.LongText
  value_ref         String              @db.LongText
  schedule          String              @db.LongText
  state             String              @db.LongText
  indexed_at        DateTime?           @db.Timestamp(6)
  error             String?             @db.LongText
  created_at        DateTime            @default(now()) @db.Timestamp(6)
  creator_id        Int
  core_user         core_user           @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_model_index_creator_id")
  report_card       report_card?        @relation(fields: [model_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_model_index_model_id")
  model_index_value model_index_value[] @ignore

  @@index([creator_id], map: "fk_model_index_creator_id")
  @@index([model_id], map: "idx_model_index_model_id")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model model_index_value {
  model_index_id Int?
  model_pk       BigInt?
  name           String       @db.LongText
  model_index    model_index? @relation(fields: [model_index_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_model_index_value_model_id")

  @@unique([model_index_id, model_pk], map: "unique_model_index_value_model_index_id_model_pk")
  @@ignore
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model moderation_review {
  id                  Int      @id @default(autoincrement())
  updated_at          DateTime @default(now()) @db.Timestamp(6)
  created_at          DateTime @default(now()) @db.Timestamp(6)
  status              String?  @db.VarChar(255)
  text                String?  @db.LongText
  moderated_item_id   Int
  moderated_item_type String   @db.VarChar(255)
  moderator_id        Int
  most_recent         Boolean  @db.Bit(1)

  @@index([moderated_item_type, moderated_item_id], map: "idx_moderation_review_item_type_item_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model native_query_snippet {
  id            Int         @id @default(autoincrement())
  name          String      @unique(map: "name") @db.VarChar(254)
  description   String?     @db.LongText
  content       String?     @db.LongText
  creator_id    Int
  archived      Boolean     @default(dbgenerated("b'0'")) @db.Bit(1)
  created_at    DateTime    @default(now()) @db.Timestamp(6)
  updated_at    DateTime    @default(now()) @db.Timestamp(6)
  collection_id Int?
  entity_id     String?     @unique(map: "entity_id") @db.Char(21)
  collection    collection? @relation(fields: [collection_id], references: [id], onUpdate: NoAction, map: "fk_snippet_collection_id")
  core_user     core_user   @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_snippet_creator_id")

  @@index([creator_id], map: "fk_snippet_creator_id")
  @@index([collection_id], map: "idx_snippet_collection_id")
  @@index([name], map: "idx_snippet_name")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model notification {
  id                        Int                         @id @default(autoincrement())
  payload_type              String                      @db.VarChar(64)
  active                    Boolean                     @default(dbgenerated("b'1'")) @db.Bit(1)
  created_at                DateTime                    @db.Timestamp(6)
  updated_at                DateTime                    @db.Timestamp(6)
  internal_id               String?                     @unique(map: "internal_id") @db.VarChar(254)
  payload_id                Int?
  creator_id                Int?
  core_user                 core_user?                  @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_creator_id")
  notification_handler      notification_handler[]
  notification_subscription notification_subscription[]

  @@index([creator_id], map: "idx_notification_creator_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model notification_card {
  id             Int          @id @default(autoincrement())
  card_id        Int?
  send_once      Boolean      @default(dbgenerated("b'0'")) @db.Bit(1)
  send_condition String       @db.VarChar(32)
  created_at     DateTime     @default(now()) @db.Timestamp(6)
  updated_at     DateTime     @default(now()) @db.Timestamp(6)
  report_card    report_card? @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_card_card_id")

  @@index([card_id], map: "idx_notification_card_card_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model notification_handler {
  id                     Int                      @id @default(autoincrement())
  channel_type           String                   @db.VarChar(64)
  notification_id        Int
  channel_id             Int?
  template_id            Int?
  active                 Boolean                  @default(dbgenerated("b'1'")) @db.Bit(1)
  created_at             DateTime                 @default(now()) @db.Timestamp(6)
  updated_at             DateTime                 @default(now()) @db.Timestamp(6)
  channel                channel?                 @relation(fields: [channel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_handler_channel_id")
  notification           notification             @relation(fields: [notification_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_handler_notification_id")
  channel_template       channel_template?        @relation(fields: [template_id], references: [id], onUpdate: NoAction, map: "fk_notification_handler_template_id")
  notification_recipient notification_recipient[]

  @@index([channel_id], map: "idx_notification_handler_channel_id")
  @@index([notification_id], map: "idx_notification_handler_notification_id")
  @@index([template_id], map: "idx_notification_handler_template_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model notification_recipient {
  id                      Int                  @id @default(autoincrement())
  notification_handler_id Int
  type                    String               @db.VarChar(64)
  user_id                 Int?
  permissions_group_id    Int?
  details                 String?              @db.LongText
  created_at              DateTime             @default(now()) @db.Timestamp(6)
  updated_at              DateTime             @default(now()) @db.Timestamp(6)
  notification_handler    notification_handler @relation(fields: [notification_handler_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_recipient_notification_handler_id")
  permissions_group       permissions_group?   @relation(fields: [permissions_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_recipient_permissions_group_id")
  core_user               core_user?           @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_recipient_user_id")

  @@index([notification_handler_id], map: "idx_notification_recipient_notification_handler_id")
  @@index([permissions_group_id], map: "idx_notification_recipient_permissions_group_id")
  @@index([user_id], map: "idx_notification_recipient_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model notification_subscription {
  id              Int          @id @default(autoincrement())
  notification_id Int
  type            String       @db.VarChar(64)
  event_name      String?      @db.VarChar(64)
  created_at      DateTime     @db.Timestamp(6)
  cron_schedule   String?      @db.VarChar(128)
  ui_display_type String?      @db.VarChar(32)
  notification    notification @relation(fields: [notification_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_notification_subscription_notification_id")

  @@index([notification_id], map: "idx_notification_subscription_notification_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model parameter_card {
  id                        Int         @id @default(autoincrement())
  updated_at                DateTime    @default(now()) @db.Timestamp(6)
  created_at                DateTime    @default(now()) @db.Timestamp(6)
  card_id                   Int
  parameterized_object_type String      @db.VarChar(32)
  parameterized_object_id   Int
  parameter_id              String?     @db.VarChar(36)
  report_card               report_card @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_parameter_card_ref_card_id")

  @@unique([parameterized_object_id, parameterized_object_type, parameter_id], map: "unique_parameterized_object_card_parameter")
  @@index([card_id], map: "idx_parameter_card_card_id")
  @@index([parameterized_object_id], map: "idx_parameter_card_parameterized_object_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model permissions {
  id                Int               @id @default(autoincrement())
  object            String            @db.VarChar(254)
  group_id          Int
  perm_value        String?           @db.VarChar(64)
  perm_type         String?           @db.VarChar(64)
  collection_id     Int?
  permissions_group permissions_group @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_permissions_group_id")
  collection        collection?       @relation(fields: [collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_permissions_ref_collection_id")

  @@unique([group_id, object], map: "group_id")
  @@index([collection_id], map: "idx_permissions_collection_id")
  @@index([group_id], map: "idx_permissions_group_id")
  @@index([group_id, object], map: "idx_permissions_group_id_object")
  @@index([object], map: "idx_permissions_object")
  @@index([perm_type], map: "idx_permissions_perm_type")
  @@index([perm_value], map: "idx_permissions_perm_value")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model permissions_group {
  id                           Int                            @id @default(autoincrement())
  name                         String                         @unique(map: "unique_permissions_group_name") @db.VarChar(255)
  entity_id                    String?                        @unique(map: "entity_id") @db.Char(21)
  magic_group_type             String?                        @unique(map: "magic_group_type") @db.VarChar(254)
  is_tenant_group              Boolean                        @default(dbgenerated("b'0'")) @db.Bit(1)
  connection_impersonations    connection_impersonations[]
  data_permissions             data_permissions[]
  notification_recipient       notification_recipient[]
  permissions                  permissions[]
  permissions_group_membership permissions_group_membership[]
  sandboxes                    sandboxes[]

  @@index([name], map: "idx_permissions_group_name")
}

model permissions_group_membership {
  id                Int               @id @default(autoincrement())
  user_id           Int
  group_id          Int
  is_group_manager  Boolean           @default(dbgenerated("b'0'")) @db.Bit(1)
  permissions_group permissions_group @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_permissions_group_group_id")
  core_user         core_user         @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_permissions_group_membership_user_id")

  @@unique([user_id, group_id], map: "unique_permissions_group_membership_user_id_group_id")
  @@index([group_id], map: "idx_permissions_group_membership_group_id")
  @@index([group_id, user_id], map: "idx_permissions_group_membership_group_id_user_id")
  @@index([user_id], map: "idx_permissions_group_membership_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model permissions_revision {
  id         Int       @id @default(autoincrement())
  before     String?   @db.LongText
  after      String?   @db.LongText
  user_id    Int
  created_at DateTime  @db.Timestamp(6)
  remark     String?   @db.LongText
  core_user  core_user @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_permissions_revision_user_id")

  @@index([user_id], map: "fk_permissions_revision_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model persisted_info {
  id                Int               @id @default(autoincrement())
  database_id       Int
  card_id           Int?              @unique(map: "card_id")
  question_slug     String            @db.LongText
  table_name        String            @db.LongText
  definition        String?           @db.LongText
  query_hash        String?           @db.LongText
  active            Boolean           @default(dbgenerated("b'0'")) @db.Bit(1)
  state             String            @db.LongText
  refresh_begin     DateTime          @db.Timestamp(6)
  refresh_end       DateTime?         @db.Timestamp(6)
  state_change_at   DateTime?         @db.Timestamp(6)
  error             String?           @db.LongText
  created_at        DateTime          @default(now()) @db.Timestamp(6)
  creator_id        Int?
  report_card       report_card?      @relation(fields: [card_id], references: [id], onUpdate: NoAction, map: "fk_persisted_info_card_id")
  metabase_database metabase_database @relation(fields: [database_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_persisted_info_database_id")
  core_user         core_user?        @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_persisted_info_ref_creator_id")

  @@index([database_id], map: "fk_persisted_info_database_id")
  @@index([creator_id], map: "fk_persisted_info_ref_creator_id")
}

model projects {
  id           Int              @id @default(autoincrement())
  project_name String?          @db.VarChar(150)
  client_id    Int?
  status       projects_status? @default(active)
  description  String?          @db.Text
  created_at   DateTime?        @default(now()) @db.Timestamp(0)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model pulse {
  id                  Int               @id @default(autoincrement())
  creator_id          Int
  name                String?           @db.VarChar(254)
  created_at          DateTime          @db.Timestamp(6)
  updated_at          DateTime          @db.Timestamp(6)
  skip_if_empty       Boolean           @default(dbgenerated("b'0'")) @db.Bit(1)
  alert_condition     String?           @db.VarChar(254)
  alert_first_only    Boolean?          @db.Bit(1)
  alert_above_goal    Boolean?          @db.Bit(1)
  collection_id       Int?
  collection_position Int?              @db.SmallInt
  archived            Boolean?          @default(dbgenerated("b'0'")) @db.Bit(1)
  dashboard_id        Int?
  parameters          String?           @db.LongText
  entity_id           String?           @unique(map: "entity_id") @db.Char(21)
  collection          collection?       @relation(fields: [collection_id], references: [id], onUpdate: NoAction, map: "fk_pulse_collection_id")
  core_user           core_user         @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_ref_creator_id")
  report_dashboard    report_dashboard? @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_ref_dashboard_id")
  pulse_card          pulse_card[]
  pulse_channel       pulse_channel[]

  @@index([dashboard_id], map: "fk_pulse_ref_dashboard_id")
  @@index([collection_id], map: "idx_pulse_collection_id")
  @@index([creator_id], map: "idx_pulse_creator_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model pulse_card {
  id                   Int                   @id @default(autoincrement())
  pulse_id             Int
  card_id              Int
  position             Int
  include_csv          Boolean               @default(dbgenerated("b'0'")) @db.Bit(1)
  include_xls          Boolean               @default(dbgenerated("b'0'")) @db.Bit(1)
  dashboard_card_id    Int?
  entity_id            String?               @unique(map: "entity_id") @db.Char(21)
  format_rows          Boolean?              @default(dbgenerated("b'1'")) @db.Bit(1)
  pivot_results        Boolean?              @default(dbgenerated("b'0'")) @db.Bit(1)
  report_card          report_card           @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_card_ref_card_id")
  report_dashboardcard report_dashboardcard? @relation(fields: [dashboard_card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_card_ref_pulse_card_id")
  pulse                pulse                 @relation(fields: [pulse_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_card_ref_pulse_id")

  @@index([dashboard_card_id], map: "fk_pulse_card_ref_pulse_card_id")
  @@index([card_id], map: "idx_pulse_card_card_id")
  @@index([pulse_id], map: "idx_pulse_card_pulse_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model pulse_channel {
  id                      Int                       @id @default(autoincrement())
  pulse_id                Int
  channel_type            String                    @db.VarChar(32)
  details                 String?                   @db.LongText
  schedule_type           String                    @db.VarChar(32)
  schedule_hour           Int?
  schedule_day            String?                   @db.VarChar(64)
  created_at              DateTime                  @db.Timestamp(6)
  updated_at              DateTime                  @db.Timestamp(6)
  schedule_frame          String?                   @db.VarChar(32)
  enabled                 Boolean                   @default(dbgenerated("b'1'")) @db.Bit(1)
  entity_id               String?                   @unique(map: "entity_id") @db.Char(21)
  channel_id              Int?
  channel                 channel?                  @relation(fields: [channel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_channel_channel_id")
  pulse                   pulse                     @relation(fields: [pulse_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_channel_ref_pulse_id")
  pulse_channel_recipient pulse_channel_recipient[]

  @@index([channel_id], map: "fk_pulse_channel_channel_id")
  @@index([pulse_id], map: "idx_pulse_channel_pulse_id")
  @@index([schedule_type], map: "idx_pulse_channel_schedule_type")
}

model pulse_channel_recipient {
  id               Int           @id @default(autoincrement())
  pulse_channel_id Int
  user_id          Int
  pulse_channel    pulse_channel @relation(fields: [pulse_channel_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_channel_recipient_ref_pulse_channel_id")
  core_user        core_user     @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_pulse_channel_recipient_ref_user_id")

  @@index([pulse_channel_id], map: "fk_pulse_channel_recipient_ref_pulse_channel_id")
  @@index([user_id], map: "fk_pulse_channel_recipient_ref_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query {
  query_hash             Bytes   @id @db.Binary(32)
  average_execution_time Int
  query                  String? @db.LongText
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query_action {
  action_id         Int               @id
  database_id       Int
  dataset_query     String            @db.LongText
  metabase_database metabase_database @relation(fields: [database_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_action_database_id")
  action            action            @relation(fields: [action_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_action_ref_action_id")

  @@index([database_id], map: "fk_query_action_database_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query_cache {
  query_hash Bytes     @id @db.Binary(32)
  updated_at DateTime? @db.Timestamp(6)
  results    Bytes?

  @@index([updated_at], map: "idx_query_cache_updated_at")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query_execution {
  id                Int           @id @default(autoincrement())
  hash              Bytes         @db.Binary(32)
  started_at        DateTime?     @db.Timestamp(6)
  running_time      Int
  result_rows       Int
  native            Boolean       @db.Bit(1)
  context           String?       @db.VarChar(32)
  error             String?       @db.LongText
  executor_id       Int?
  card_id           Int?
  dashboard_id      Int?
  pulse_id          Int?
  database_id       Int?
  cache_hit         Boolean?      @db.Bit(1)
  action_id         Int?
  is_sandboxed      Boolean?      @db.Bit(1)
  cache_hash        Bytes?        @db.Blob
  embedding_client  String?       @db.VarChar(254)
  embedding_version String?       @db.VarChar(254)
  parameterized     Boolean?      @db.Bit(1)
  field_usage       field_usage[]

  @@index([action_id], map: "idx_query_execution_action_id")
  @@index([card_id], map: "idx_query_execution_card_id")
  @@index([card_id, started_at], map: "idx_query_execution_card_id_started_at")
  @@index([context], map: "idx_query_execution_context")
  @@index([executor_id], map: "idx_query_execution_executor_id")
  @@index([hash, started_at], map: "idx_query_execution_query_hash_started_at")
  @@index([started_at], map: "idx_query_execution_started_at")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query_field {
  id                 Int             @id @default(autoincrement())
  card_id            Int
  field_id           Int?
  explicit_reference Boolean?        @default(dbgenerated("b'1'")) @db.Bit(1)
  column             String          @db.VarChar(254)
  table              String?         @db.VarChar(254)
  table_id           Int?
  schema             String?         @db.VarChar(254)
  report_card        report_card     @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_field_card_id")
  metabase_field     metabase_field? @relation(fields: [field_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_field_field_id")

  @@index([card_id], map: "idx_query_field_card_id")
  @@index([field_id], map: "idx_query_field_field_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model query_table {
  id             Int             @id @default(autoincrement())
  card_id        Int
  table_id       Int?
  schema         String?         @db.VarChar(254)
  table          String          @db.VarChar(254)
  report_card    report_card     @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_table_card_id")
  metabase_table metabase_table? @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_query_table_table_id")

  @@index([card_id], map: "idx_query_table_card_id")
  @@index([table_id], map: "idx_query_table_table_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model recent_views {
  id        Int       @id @default(autoincrement())
  user_id   Int
  model     String    @db.VarChar(16)
  model_id  Int
  timestamp DateTime  @db.Timestamp(6)
  context   String    @default("view") @db.VarChar(256)
  core_user core_user @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_recent_views_ref_user_id")

  @@index([user_id], map: "idx_recent_views_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model report_card {
  id                                                 Int                    @id @default(autoincrement())
  created_at                                         DateTime               @db.Timestamp(6)
  updated_at                                         DateTime?              @db.Timestamp(6)
  name                                               String                 @db.VarChar(254)
  description                                        String?                @db.LongText
  display                                            String                 @db.VarChar(254)
  dataset_query                                      String?                @db.LongText
  visualization_settings                             String?                @db.LongText
  creator_id                                         Int
  database_id                                        Int
  table_id                                           Int?
  query_type                                         String?                @db.VarChar(16)
  archived                                           Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  collection_id                                      Int?
  public_uuid                                        String?                @unique(map: "public_uuid") @db.Char(36)
  made_public_by_id                                  Int?
  enable_embedding                                   Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  embedding_params                                   String?                @db.LongText
  cache_ttl                                          Int?
  result_metadata                                    String?                @db.LongText
  collection_position                                Int?                   @db.SmallInt
  entity_id                                          String?                @unique(map: "entity_id") @db.Char(21)
  parameters                                         String?                @db.LongText
  parameter_mappings                                 String?                @db.LongText
  collection_preview                                 Boolean                @default(dbgenerated("b'1'")) @db.Bit(1)
  metabase_version                                   String?                @db.VarChar(100)
  type                                               String                 @default("question") @db.VarChar(16)
  initially_published_at                             DateTime?              @db.Timestamp(6)
  cache_invalidated_at                               DateTime?              @db.Timestamp(6)
  last_used_at                                       DateTime               @default(now()) @db.Timestamp(6)
  view_count                                         Int                    @default(0)
  archived_directly                                  Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  dataset_query_metrics_v2_migration_backup          String?                @db.LongText
  source_card_id                                     Int?
  dashboard_id                                       Int?
  card_schema                                        Int                    @default(20)
  action                                             action[]
  card_bookmark                                      card_bookmark[]
  card_label                                         card_label[]
  dashboardcard_series                               dashboardcard_series[]
  metabot_prompt                                     metabot_prompt[]
  model_index                                        model_index[]
  notification_card                                  notification_card[]
  parameter_card                                     parameter_card[]
  persisted_info                                     persisted_info?
  pulse_card                                         pulse_card[]
  query_field                                        query_field[]
  query_table                                        query_table[]
  collection                                         collection?            @relation(fields: [collection_id], references: [id], onUpdate: NoAction, map: "fk_card_collection_id")
  core_user_report_card_made_public_by_idTocore_user core_user?             @relation("report_card_made_public_by_idTocore_user", fields: [made_public_by_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_made_public_by_id")
  core_user_report_card_creator_idTocore_user        core_user              @relation("report_card_creator_idTocore_user", fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_card_ref_user_id")
  report_dashboard                                   report_dashboard?      @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_card_ref_dashboard_id")
  metabase_database                                  metabase_database      @relation(fields: [database_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_card_ref_database_id")
  metabase_table                                     metabase_table?        @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_card_ref_table_id")
  report_card                                        report_card?           @relation("report_cardToreport_card", fields: [source_card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_card_source_card_id_ref_report_card_id")
  other_report_card                                  report_card[]          @relation("report_cardToreport_card")
  report_cardfavorite                                report_cardfavorite[]
  report_dashboardcard                               report_dashboardcard[]
  sandboxes                                          sandboxes[]

  @@index([made_public_by_id], map: "fk_card_made_public_by_id")
  @@index([database_id], map: "fk_report_card_ref_database_id")
  @@index([table_id], map: "fk_report_card_ref_table_id")
  @@index([collection_id], map: "idx_card_collection_id")
  @@index([creator_id], map: "idx_card_creator_id")
  @@index([public_uuid], map: "idx_card_public_uuid")
  @@index([card_schema], map: "idx_report_card_card_schema")
  @@index([dashboard_id], map: "idx_report_card_dashboard_id")
  @@index([source_card_id], map: "idx_report_card_source_card_id")
  @@index([type], map: "idx_report_card_type")
}

model report_cardfavorite {
  id          Int         @id @default(autoincrement())
  created_at  DateTime    @db.Timestamp(6)
  updated_at  DateTime    @db.Timestamp(6)
  card_id     Int
  owner_id    Int
  report_card report_card @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_cardfavorite_ref_card_id")
  core_user   core_user   @relation(fields: [owner_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_cardfavorite_ref_user_id")

  @@unique([card_id, owner_id], map: "idx_unique_cardfavorite_card_id_owner_id")
  @@index([card_id], map: "idx_cardfavorite_card_id")
  @@index([owner_id], map: "idx_cardfavorite_owner_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model report_dashboard {
  id                                                      Int                    @id @default(autoincrement())
  created_at                                              DateTime               @db.Timestamp(6)
  updated_at                                              DateTime               @db.Timestamp(6)
  name                                                    String                 @db.VarChar(254)
  description                                             String?                @db.LongText
  creator_id                                              Int
  parameters                                              String?                @db.LongText
  points_of_interest                                      String?                @db.LongText
  caveats                                                 String?                @db.LongText
  show_in_getting_started                                 Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  public_uuid                                             String?                @unique(map: "public_uuid") @db.Char(36)
  made_public_by_id                                       Int?
  enable_embedding                                        Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  embedding_params                                        String?                @db.LongText
  archived                                                Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  position                                                Int?
  collection_id                                           Int?
  collection_position                                     Int?                   @db.SmallInt
  cache_ttl                                               Int?
  entity_id                                               String?                @unique(map: "entity_id") @db.Char(21)
  auto_apply_filters                                      Boolean                @default(dbgenerated("b'1'")) @db.Bit(1)
  width                                                   String                 @default("fixed") @db.VarChar(16)
  initially_published_at                                  DateTime?              @db.Timestamp(6)
  view_count                                              Int                    @default(0)
  archived_directly                                       Boolean                @default(dbgenerated("b'0'")) @db.Bit(1)
  last_viewed_at                                          DateTime               @default(now()) @db.Timestamp(6)
  dashboard_bookmark                                      dashboard_bookmark[]
  dashboard_favorite                                      dashboard_favorite[]
  dashboard_tab                                           dashboard_tab[]
  pulse                                                   pulse[]
  report_card                                             report_card[]
  collection                                              collection?            @relation(fields: [collection_id], references: [id], onUpdate: NoAction, map: "fk_dashboard_collection_id")
  core_user_report_dashboard_made_public_by_idTocore_user core_user?             @relation("report_dashboard_made_public_by_idTocore_user", fields: [made_public_by_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_made_public_by_id")
  core_user_report_dashboard_creator_idTocore_user        core_user              @relation("report_dashboard_creator_idTocore_user", fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboard_ref_user_id")
  report_dashboardcard                                    report_dashboardcard[]
  user_parameter_value                                    user_parameter_value[]

  @@index([made_public_by_id], map: "fk_dashboard_made_public_by_id")
  @@index([collection_id], map: "idx_dashboard_collection_id")
  @@index([creator_id], map: "idx_dashboard_creator_id")
  @@index([public_uuid], map: "idx_dashboard_public_uuid")
  @@index([show_in_getting_started], map: "idx_report_dashboard_show_in_getting_started")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model report_dashboardcard {
  id                     Int                    @id @default(autoincrement())
  created_at             DateTime               @default(now()) @db.Timestamp(6)
  updated_at             DateTime               @default(now()) @db.Timestamp(6)
  size_x                 Int?
  size_y                 Int?
  row                    Int
  col                    Int
  card_id                Int?
  dashboard_id           Int
  parameter_mappings     String?                @db.LongText
  visualization_settings String?                @db.LongText
  entity_id              String?                @unique(map: "entity_id") @db.Char(21)
  action_id              Int?
  dashboard_tab_id       Int?
  inline_parameters      String?                @db.LongText
  dashboardcard_series   dashboardcard_series[]
  pulse_card             pulse_card[]
  report_card            report_card?           @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboardcard_ref_card_id")
  report_dashboard       report_dashboard       @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_dashboardcard_ref_dashboard_id")
  action                 action?                @relation(fields: [action_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_dashboardcard_ref_action_id")
  dashboard_tab          dashboard_tab?         @relation(fields: [dashboard_tab_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_report_dashboardcard_ref_dashboard_tab_id")

  @@index([action_id], map: "fk_report_dashboardcard_ref_action_id")
  @@index([dashboard_tab_id], map: "fk_report_dashboardcard_ref_dashboard_tab_id")
  @@index([card_id], map: "idx_dashboardcard_card_id")
  @@index([dashboard_id], map: "idx_dashboardcard_dashboard_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model revision {
  id               Int       @id @default(autoincrement())
  model            String    @db.VarChar(16)
  model_id         Int
  user_id          Int
  timestamp        DateTime  @default(now()) @db.Timestamp(6)
  object           String?   @db.LongText
  is_reversion     Boolean   @default(dbgenerated("b'0'")) @db.Bit(1)
  is_creation      Boolean   @default(dbgenerated("b'0'")) @db.Bit(1)
  message          String?   @db.LongText
  most_recent      Boolean   @default(dbgenerated("b'0'")) @db.Bit(1)
  metabase_version String?   @db.VarChar(100)
  core_user        core_user @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_revision_ref_user_id")

  @@index([user_id], map: "fk_revision_ref_user_id")
  @@index([model, model_id], map: "idx_revision_model_model_id")
  @@index([most_recent], map: "idx_revision_most_recent")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model sandboxes {
  id                   Int               @id @default(autoincrement())
  group_id             Int
  table_id             Int
  card_id              Int?
  attribute_remappings String?           @db.LongText
  report_card          report_card?      @relation(fields: [card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_gtap_card_id")
  permissions_group    permissions_group @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_gtap_group_id")
  metabase_table       metabase_table    @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_gtap_table_id")

  @@unique([table_id, group_id], map: "unique_gtap_table_id_group_id")
  @@index([card_id], map: "fk_gtap_card_id")
  @@index([group_id], map: "fk_gtap_group_id")
  @@index([table_id, group_id], map: "idx_gtap_table_id_group_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model search_index_metadata {
  id         Int      @id @default(autoincrement())
  engine     String   @db.VarChar(64)
  version    String   @db.VarChar(254)
  index_name String   @unique(map: "index_name") @db.VarChar(254)
  status     String?  @db.VarChar(32)
  created_at DateTime @default(now()) @db.Timestamp(6)
  updated_at DateTime @default(now()) @db.Timestamp(6)
  lang_code  String   @default("en") @db.VarChar(10)

  @@unique([engine, version, lang_code, status], map: "idx_search_index_metadata_unique_status")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model secret {
  id         Int        @default(autoincrement())
  version    Int        @default(1)
  creator_id Int?
  created_at DateTime   @db.Timestamp(6)
  updated_at DateTime?  @db.Timestamp(6)
  name       String     @db.VarChar(254)
  kind       String     @db.VarChar(254)
  source     String?    @db.VarChar(254)
  value      Bytes?
  core_user  core_user? @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_secret_ref_user_id")

  @@id([id, version])
  @@index([creator_id], map: "fk_secret_ref_user_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model segment {
  id                      Int            @id @default(autoincrement())
  table_id                Int
  creator_id              Int
  name                    String         @db.VarChar(254)
  description             String?        @db.LongText
  archived                Boolean?       @default(dbgenerated("b'0'")) @db.Bit(1)
  definition              String?        @db.LongText
  created_at              DateTime       @db.Timestamp(6)
  updated_at              DateTime       @db.Timestamp(6)
  points_of_interest      String?        @db.LongText
  caveats                 String?        @db.LongText
  show_in_getting_started Boolean        @default(dbgenerated("b'0'")) @db.Bit(1)
  entity_id               String?        @unique(map: "entity_id") @db.Char(21)
  core_user               core_user      @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_segment_ref_creator_id")
  metabase_table          metabase_table @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_segment_ref_table_id")

  @@index([creator_id], map: "idx_segment_creator_id")
  @@index([show_in_getting_started], map: "idx_segment_show_in_getting_started")
  @@index([table_id], map: "idx_segment_table_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model semantic_search_token_tracking {
  id           Int      @id @default(autoincrement())
  model_name   String   @db.VarChar(256)
  request_type String?  @db.VarChar(32)
  created_at   DateTime @default(now()) @db.Timestamp(6)
  total_tokens Int

  @@index([created_at], map: "idx_semantic_search_token_tracking_created_at")
}

model services {
  id           Int     @id @default(autoincrement())
  service_name String? @db.VarChar(150)
  description  String? @db.Text
}

model setting {
  key   String  @id @db.VarChar(254)
  value String? @db.LongText
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model table_privileges {
  table_id       Int
  role           String?        @db.VarChar(255)
  select         Boolean        @default(dbgenerated("b'0'")) @db.Bit(1)
  update         Boolean        @default(dbgenerated("b'0'")) @db.Bit(1)
  insert         Boolean        @default(dbgenerated("b'0'")) @db.Bit(1)
  delete         Boolean        @default(dbgenerated("b'0'")) @db.Bit(1)
  metabase_table metabase_table @relation(fields: [table_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_table_privileges_table_id")

  @@index([table_id], map: "fk_table_privileges_table_id")
  @@index([role], map: "idx_table_privileges_role")
  @@ignore
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model task_history {
  id           Int       @id @default(autoincrement())
  task         String    @db.VarChar(254)
  db_id        Int?
  started_at   DateTime  @default(now()) @db.Timestamp(6)
  ended_at     DateTime? @db.Timestamp(6)
  duration     Int?
  task_details String?   @db.LongText
  status       String    @default("started") @db.VarChar(21)

  @@index([db_id], map: "idx_task_history_db_id")
  @@index([ended_at], map: "idx_task_history_end_time")
  @@index([started_at], map: "idx_task_history_started_at")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model timeline {
  id             Int              @id @default(autoincrement())
  name           String           @db.VarChar(255)
  description    String?          @db.VarChar(255)
  icon           String           @db.VarChar(128)
  collection_id  Int?
  archived       Boolean          @default(dbgenerated("b'0'")) @db.Bit(1)
  creator_id     Int
  created_at     DateTime         @default(now()) @db.Timestamp(6)
  updated_at     DateTime         @default(now()) @db.Timestamp(6)
  default        Boolean          @default(dbgenerated("b'0'")) @db.Bit(1)
  entity_id      String?          @unique(map: "entity_id") @db.Char(21)
  collection     collection?      @relation(fields: [collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_timeline_collection_id")
  core_user      core_user        @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_timeline_creator_id")
  timeline_event timeline_event[]

  @@index([creator_id], map: "fk_timeline_creator_id")
  @@index([collection_id], map: "idx_timeline_collection_id")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model timeline_event {
  id           Int       @id @default(autoincrement())
  timeline_id  Int
  name         String    @db.VarChar(255)
  description  String?   @db.VarChar(255)
  timestamp    DateTime  @db.Timestamp(6)
  time_matters Boolean   @db.Bit(1)
  timezone     String    @db.VarChar(255)
  icon         String    @db.VarChar(128)
  archived     Boolean   @default(dbgenerated("b'0'")) @db.Bit(1)
  creator_id   Int
  created_at   DateTime  @default(now()) @db.Timestamp(6)
  updated_at   DateTime  @default(now()) @db.Timestamp(6)
  core_user    core_user @relation(fields: [creator_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_event_creator_id")
  timeline     timeline  @relation(fields: [timeline_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_events_timeline_id")

  @@index([creator_id], map: "fk_event_creator_id")
  @@index([timeline_id], map: "idx_timeline_event_timeline_id")
  @@index([timeline_id, timestamp], map: "idx_timeline_event_timeline_id_timestamp")
}

model trainings {
  id            Int               @id @default(autoincrement())
  title         String            @db.VarChar(150)
  trainer_name  String?           @db.VarChar(100)
  description   String?           @db.Text
  duration      String?           @db.VarChar(50)
  cost          Decimal?          @db.Decimal(10, 2)
  schedule_date DateTime?         @db.Date
  status        trainings_status? @default(upcoming)
  created_at    DateTime?         @default(now()) @db.Timestamp(0)
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model user_key_value {
  id         Int       @id @default(autoincrement())
  user_id    Int
  namespace  String    @db.VarChar(254)
  key        String    @db.VarChar(254)
  value      String?   @db.LongText
  created_at DateTime  @default(now()) @db.Timestamp(6)
  updated_at DateTime  @default(now()) @db.Timestamp(6)
  expires_at DateTime? @db.Timestamp(6)
  core_user  core_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_user_key_value_user_id")

  @@unique([user_id, namespace, key], map: "unique_user_key_value_user_id_namespace_key")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model user_parameter_value {
  id               Int               @id @default(autoincrement())
  user_id          Int
  parameter_id     String            @db.VarChar(36)
  value            String?           @db.LongText
  dashboard_id     Int?
  report_dashboard report_dashboard? @relation(fields: [dashboard_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_user_parameter_value_dashboard_id")
  core_user        core_user         @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_user_parameter_value_user_id")

  @@index([dashboard_id], map: "idx_user_parameter_value_dashboard_id")
  @@index([user_id], map: "idx_user_parameter_value_user_id")
  @@index([user_id, dashboard_id, parameter_id], map: "idx_user_parameter_value_user_id_dashboard_id_parameter_id")
}

model users {
  id                                   Int         @id @default(autoincrement())
  name                                 String?     @db.VarChar(100)
  email                                String?     @unique(map: "email") @db.VarChar(150)
  password                             String?     @db.VarChar(255)
  role                                 users_role? @default(user)
  created_at                           DateTime?   @default(now()) @db.Timestamp(0)
  clients                              clients[]
  logs                                 logs[]
  messages_messages_sender_idTousers   messages[]  @relation("messages_sender_idTousers")
  messages_messages_receiver_idTousers messages[]  @relation("messages_receiver_idTousers")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model view_log {
  id                Int        @id @default(autoincrement())
  user_id           Int?
  model             String     @db.VarChar(16)
  model_id          Int
  timestamp         DateTime?  @db.Timestamp(6)
  metadata          String?    @db.LongText
  has_access        Boolean?   @db.Bit(1)
  context           String?    @db.VarChar(32)
  embedding_client  String?    @db.VarChar(254)
  embedding_version String?    @db.VarChar(254)
  core_user         core_user? @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_view_log_ref_user_id")

  @@index([model_id], map: "idx_view_log_model_id")
  @@index([timestamp], map: "idx_view_log_timestamp")
  @@index([user_id], map: "idx_view_log_user_id")
}

enum projects_status {
  active
  completed
  on_hold
}

enum users_role {
  admin
  client
  user
}

enum clients_status {
  active
  inactive
}

enum trainings_status {
  upcoming
  completed
  cancelled
}
